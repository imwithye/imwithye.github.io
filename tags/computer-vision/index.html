<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Computer Vision | 禅心剑气相思骨</title><meta name=keywords content><meta name=description content="Yiwei Gong's Blog"><meta name=author content="Yiwei Gong"><link rel=canonical href=https://yiwei.dev/tags/computer-vision/><link crossorigin=anonymous href=/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe+FVUFzPh7U=" rel="preload stylesheet" as=style><link rel=icon href=https://yiwei.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://yiwei.dev/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://yiwei.dev/favicon-32x32.png><link rel=apple-touch-icon href=https://yiwei.dev/apple-touch-icon.png><link rel=mask-icon href=https://yiwei.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://yiwei.dev/tags/computer-vision/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0}}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-chtml.js></script><meta property="og:title" content="Computer Vision"><meta property="og:description" content="Yiwei Gong's Blog"><meta property="og:type" content="website"><meta property="og:url" content="https://yiwei.dev/tags/computer-vision/"><meta property="og:site_name" content="禅心剑气相思骨"><meta name=twitter:card content="summary"><meta name=twitter:title content="Computer Vision"><meta name=twitter:description content="Yiwei Gong's Blog"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://yiwei.dev accesskey=h title="禅心剑气相思骨 (Alt + H)">禅心剑气相思骨</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://yiwei.dev/ title=Home><span>Home</span></a></li><li><a href=https://yiwei.dev/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://yiwei.dev/archives title=Archives><span>Archives</span></a></li><li><a href=https://yiwei.dev/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Computer Vision</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2>单目视觉vSLAM</h2></header><div class=entry-content><p>Matlab 官方提供了完整的单目视觉 vSLAM 的 pipeline，https://www.mathworks.com/help/vision/ug/monocular-visual-simultaneous-localization-and-mapping.html。这里对 Matlab 的这边文章的关键点做一个笔记和讨论，具体的实现可以参考原文文档。
初始化数据集 Matlab 提供了imageDatastore类用于初始化图像存储集合，其接受一个图像的文件夹路径的参数。
imageFolder = [dataFolder,'rgbd_dataset_freiburg3_long_office_household/rgb/']; imds = imageDatastore(imageFolder); 初始化地图 在 SLAM 管线中，首先我们应该对相机进行标定，相机标定可以用Computer Vision 工具箱中的相机标定工具。如果预先知道了相机的内参，可以通过cameraIntrinsics类直接进行初始化。
% Create a cameraIntrinsics object to store the camera intrinsic parameters. % The intrinsics for the dataset can be found at the following page: % https://vision.in.tum.de/data/datasets/rgbd-dataset/file_formats % Note that the images in the dataset are already undistorted, hence there % is no need to specify the distortion coefficients. focalLength = [535....</p></div><footer class=entry-footer><span title='2023-12-22 00:00:00 +0000 UTC'>December 22, 2023</span>&nbsp;·&nbsp;Yiwei Gong</footer><a class=entry-link aria-label="post link to 单目视觉vSLAM" href=https://yiwei.dev/posts/%E5%8D%95%E6%95%B0%E8%A7%86%E8%A7%89vslam/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>理解光束法平差</h2></header><div class=entry-content><p>在学习计算机视觉的时候，一个无法避开的话题就是光束法平差（Bundle Adjustment）。光束法平差是一个后端优化常用的万金油，其本质是在一组具有误差的点和约束的关系中，寻找一个最优或者最具可能性的解。我在学习的过程中发现，大部分的书籍都在侧重介绍光束法平差的解法，或多或少都涉及大量的数学知识。然而，对于软件工程任务来说，最重要的是理解几个问题：
什么时候使用光束法平差算法？ 光束法平差的输入和输出参数是什么？ 如何从工程角度优化光束法平差？ 由于 Matlab 的计算机视觉工具箱中自带了光束法平差的算法，我们将使用 Matlab 作为例子，来逐步回答上面几个问题。
什么时候使用光束法平差算法？ 线性拟合和最小二乘法 让我们首先来理解线性回归问题，并从中理解最小二乘法的原理。
如果我们有一堆数据，我们可以知道这些数据大概线性相关。比如一辆在高速公路上匀速行驶的汽车，行驶的路程$y$和时间$x$就形成了线性关系，我们可以把这个关系记做$y=ax$，当然我们知道$a$代表汽车的速度。那么我们如何测量这个速度呢？如果我们有一个完美的测量工具，我们只需要测量俩个点，比如时刻$x_0$的路程$y_0$，以及时刻$x_1$的路程$y_1$，我们就很容易求出$a=\frac{y_1-y_0}{x_1-x_0}$。可是所有的测量都有误差，如果我们测量了 100 个观测点，他们大概都分布在$y=ax$附近，但是哪一个$a$的值才是最好的值呢？
蓝色点为观测数据，可以看出数据大致分布在红色线$y=80x$附近 很显然，如果蓝色点是观测数据，从图形上来看，在淡蓝色，红色，黑色三根拟合线中，红色是最佳的拟合线。但是我们如何定量的说明，“最佳”这一概念呢？
我们把时刻$x$作为我们的输入参数，我们的目标是，通过观测数据，我们推导$y$与$x$的关系。通过这个对应关系，我们希望对于任何一个时刻$x$，我们都能预测一个路程$y$。那么，如果我们观测到了$N$个观测数据，我们把他们记做$x_1, x_2, …, x_N$，和$y_1, y_2, …, y_N$。那么对于我们的对应关系来说，理论上我们有$ax_1, ax_2, …, ax_N$，而且我们知道他们应该和我们的观测数据差不多。
我们应该如何定义”最佳“？我们可以说，我们找到的对应关系和我们实际数据的误差最小，那么就是最佳的对应关系。更准确的说，如果$(y_1-ax_1)^2 + (y_2-ax_2)^2 + … + (y_N-ax_N)^2$最小，那么这一个对应关系的误差就是最小，也就是我们说的最佳对应关系。
这里的所有$x$和$y$都是已知量，即我们的观测数据，所以我们想要误差最小，实际上就变成了一个关于未知数$a$的二次函数，我们找到对应的$a$使得这个二次函数变成最小值。
此时得到的$a$的值就是我们所谓的最佳拟合线。
光束法平差的输入和输出参数是什么？ TBA
如何从工程角度优化光束法平差？ TBA</p></div><footer class=entry-footer><span title='2023-12-21 00:00:00 +0000 UTC'>December 21, 2023</span>&nbsp;·&nbsp;Yiwei Gong</footer><a class=entry-link aria-label="post link to 理解光束法平差" href=https://yiwei.dev/posts/%E7%90%86%E8%A7%A3%E5%85%89%E6%9D%9F%E6%B3%95%E5%B9%B3%E5%B7%AE/></a></article></main><footer class=footer><span>&copy; 2023 <a href=https://yiwei.dev>禅心剑气相思骨</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>